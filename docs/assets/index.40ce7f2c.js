import{s as v,c as w,R as x,a as g}from"./creatCtx.9eb29cab.js";import{_ as r}from"./index.96e79a1c.js";import{y,B as j,o as k,c as B}from"./vendor.827e1304.js";const C={setup(R){const i=v(),_=y(null),u=g();j(()=>{const c=w(_.value),n=t=>new Promise(o=>{setTimeout(()=>{c.clearRect(-250,-250,500,500);const s=[];for(let e=0;e<t.length;e++){const f=t[e],{cos:p,sin:d}=u[Math.floor(e/2)],m=f*p,h=f*d;s.push(new x(c,m,h,5,3))}s.forEach(e=>e.draw()),o("draw success")},10)});n(i),(async t=>{let o=t.length,s;for(let e=Math.floor(o/2)-1;e>=0;e--)l(t,e,o),await n(t);for(let e=o-1;e>=1;e--)[s]=t,t[0]=t[e],t[e]=s,l(t,0,--o),await n(t);return t})(i)});const l=(c,n,a)=>{let t=2*n+1,o=2*n+2,s=n,e;t<a&&c[t]>c[s]&&(s=t),o<a&&c[o]>c[s]&&(s=o),s!=n&&(e=c[n],c[n]=c[s],c[s]=e,l(c,s,a))};return(c,n)=>(k(),B("canvas",{id:"canvas",width:"500",height:"500",ref:(a,t)=>{t.canvas=a,_.value=a}},null,512))}};var M=r(C,[["__scopeId","data-v-37e4448c"]]);export{M as default};
